---
sticker: lucide//lightbulb-off
tags:
  - idea_hdmap
---
## 현재 진행 중인 모델
#### Idea: 현재 모델들이 Inference 단계에서 그리는 map을 보면 낮은 score threshold의 라인들로 인해 다른 downstream task에서 사용하기 어려워보이는 map이 그려진다 -> 모델의 lower bound가 높은 모델을 제안해보자
- 각 쿼리가 일정한 간격의 거리를 예측하도록 하는 모델
	- 처음엔 거리를 예측해서 그 길이에 대응되는 쿼리만 사용하려 했는데 쿼리의 개수가 줄어들 때 어떠한 형태로 줄여나갈지에 대한 고민이 있었음
		- 현재 세환이형이 생각한 방법은 그냥 한쪽에서부터 일정 thr 이하의 예측이 나오면 거기까지로 사용한다인거 같음
		- *나는 이러한 형태를 가질 경우 polyline의 중간이 occupied됐을 때 한 polyline이 두 개의 polyline으로 예측되어지지 않을지 우려스러웠음*
			- *세환이형 의견은 해봐야알거 같고 MapTR처럼 중간을 잘 모르니 이어버릴 수도 있다고 생각하심*
	- 각 쿼리의 간격을 3~4m, 한 line 당 쿼리를 60개로 사용한 이유는 확인 결과 nuscenes에서 val과 train에서 line의 최대 길이가 166m여서 넉넉하게 최소 180m까지 커버 가능한 설정
- 예상되는 문제점
	- 만약에 inference에서 미리 설정한 180m보다 긴 Polyline이 나온다면 어떡하나?
		- 지금 생각할 문제는 아닌듯 함
		- 우리가 추구하는대로 학습된다면 180m만큼 그리겠지 그거면 충분하지 않나?
	- 각 쿼리간의 간격이 너무 길지 않나?
		- 2~3m로 하려하였으나 그러면 쿼리의 개수가 너무 많아짐(약 90개)
		- 애초에 모델의 목표가 inference 시에 예측하는 line의 최소 성능을 향상시켜 모델 전체의 성능을 향상시키는 것
	- 그래서 이 모델이 다른 모델이 inference 단계에서 예측한 map에 threshold를 걸어준 것보다 좋아?
		- 해봐야 알겠지?

## 추가 진행
- Train set의 GT와 valid set의 pred 간의 유사도를 구하겠다
	- 이걸 진행하려면 우선 val set과 train set의 겹치는 영역을 제거해야할 것으로 생각되어짐
		- *이거 빨리하자*
- 
